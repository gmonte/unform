"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("dot-object"),t=require("react/jsx-runtime"),n=require("zustand"),u=require("zustand/shallow");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(r),i=o(n),c=o(u),l=e.createContext({});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var f=function(){return(f=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var u in r=arguments[t])Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u]);return e}).apply(this,arguments)};function s(e,r){var t,n,u,o,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(u=2&o[0]?n.return:o[0]?n.throw||((u=n.return)&&u.call(n),0):n.next)&&!(u=u.call(n,o[1])).done)return u;switch(n=0,u&&(o=[2&o[0],u.value]),o[0]){case 0:case 1:u=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(u=a.trys,(u=u.length>0&&u[u.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!u||o[1]>u[0]&&o[1]<u[3])){a.label=o[1];break}if(6===o[0]&&a.label<u[1]){a.label=u[1],u=o;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(o);break}u[2]&&a.ops.pop(),a.trys.pop();continue}o=r.call(e,a)}catch(e){o=[6,e],n=0}finally{t=u=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var d=function(e){return e},p=e.forwardRef((function(r,n){var u=r.initialData,o=void 0===u?{}:u,p=r.children,v=r.onSubmit,b=e.useRef([]),h=e.useMemo((function(){return i.default((function(e){return{errors:{},setErrors:function(r){return e((function(){return{errors:r}}))},setFieldError:function(r,t){return e((function(e){var n,u=e.errors;return{errors:f(f({},u),(n={},n[r]=t,n))}}))}}}))}),[])(d,c.default),y=h.setErrors,m=h.setFieldError,k=h.errors,x=e.useCallback((function(e){return b.current.find((function(r){return r.name===e}))}),[]),g=e.useCallback((function(e){var r=e.ref,t=e.getValue,n=e.path;return t?t(r):n&&a.default.pick(n,r)}),[]),E=e.useCallback((function(e,r){var t=e.path,n=e.ref,u=e.setValue;return u?u(n,r):!!t&&a.default.set(t,r,n)}),[]),F=e.useCallback((function(e){var r=e.clearValue,t=e.ref,n=e.path;return r?r(t,""):n&&a.default.set(n,"",t)}),[]),w=e.useCallback((function(e){void 0===e&&(e={}),b.current.forEach((function(r){var t=r.name,n=r.ref,u=r.path,o=r.clearValue;return o?o(n,e[t]):u&&a.default.set(u,e[t]?e[t]:"",n)}))}),[]),C=e.useCallback((function(e){var r={};b.current.forEach((function(t){r[t.name]=a.default.pick(t.name,e)})),Object.entries(r).forEach((function(e){var r=e[0],t=e[1],n=x(r);n&&E(n,t)}))}),[x,E]),j=e.useCallback((function(e,r){void 0===r&&(r=!0);var t=e;r&&(t=a.default.dot(e)),y(t)}),[y]),O=e.useCallback((function(){var e={};return b.current.forEach((function(r){e[r.name]=g(r)})),a.default.object(e),e}),[g]),P=e.useCallback((function(e){return r=void 0,t=void 0,u=function(){var r;return s(this,(function(t){return e&&e.preventDefault(),r=O(),v(r,{reset:w},e),[2]}))},new((n=void 0)||(n=Promise))((function(e,o){function a(e){try{c(u.next(e))}catch(e){o(e)}}function i(e){try{c(u.throw(e))}catch(e){o(e)}}function c(r){r.done?e(r.value):new n((function(e){e(r.value)})).then(a,i)}c((u=u.apply(r,t||[])).next())}));var r,t,n,u}),[v,O,w]),S=e.useCallback((function(e){b.current.push(e)}),[]),V=e.useCallback((function(e){var r=b.current.findIndex((function(r){return r.name===e}));r>-1&&b.current.splice(r,1)}),[]),D=e.useCallback((function(e){m(e,void 0)}),[m]);return e.useImperativeHandle(n,(function(){return{getFieldValue:function(e){var r=x(e);return!!r&&g(r)},setFieldValue:function(e,r){var t=x(e);return!!t&&E(t,r)},getFieldError:function(e){return k[e]},setFieldError:function(e,r){m(e,r)},clearField:function(e){var r=x(e);r&&F(r)},getErrors:function(){return k},setErrors:function(e,r){return j(e,r)},getData:function(){return O()},getFieldRef:function(e){var r=x(e);return!!r&&r.ref},setData:function(e){return C(e)},reset:function(e){return w(e)},submitForm:function(){P()}}})),t.jsx(l.Provider,f({value:{initialData:o,errors:k,scopePath:"",registerField:S,unregisterField:V,clearFieldError:D,handleSubmit:P}},{children:p}),void 0)}));exports.FormContext=l,exports.FormProvider=p,exports.Scope=function(r){var n=r.path,u=r.children,o=e.useContext(l),a=o.scopePath,i=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(e);u<n.length;u++)r.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(e,n[u])&&(t[n[u]]=e[n[u]])}return t}(o,["scopePath"]);return t.jsx(l.Provider,f({value:f(f({},i),{scopePath:a.concat(a?"."+n:n)})},{children:u}),void 0)},exports.useField=function(r){var t=e.useContext(l),n=t.initialData,u=t.errors,o=t.scopePath,i=t.unregisterField,c=t.registerField,f=t.clearFieldError;if(!r)throw new Error('You need to provide the "name" prop.');var s=e.useMemo((function(){return o?o+"."+r:r}),[r,o]),d=e.useMemo((function(){return a.default.pick(s,n)}),[s,n]),p=e.useMemo((function(){return u[s]}),[u,s]),v=e.useCallback((function(){f(s)}),[f,s]);return e.useEffect((function(){return function(){return i(s)}}),[s,i]),{fieldName:s,registerField:c,defaultValue:d,clearError:v,error:p}};
//# sourceMappingURL=index.js.map
